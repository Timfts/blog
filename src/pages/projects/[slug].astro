---
import {
  getI18NProjectPaths,
  getProjectsPathsByLanguage,
} from "@cms/collections/projects/helpers";
import ProjectTemplate from "@templates/Project/index.astro";

export async function getStaticPaths() {
  const projectsPaths = await getProjectsPathsByLanguage("en");
  return projectsPaths;
}

const { entries } = Astro.props;
const currentLang = Astro.currentLocale as Lang;
const entry = entries[currentLang];
const i18nMap = getI18NProjectPaths(entries);
---

<ProjectTemplate entry={entry} i18nPagePaths={i18nMap} />
