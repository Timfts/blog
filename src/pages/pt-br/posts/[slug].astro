---
import PostTemplate from "@templates/Post/index.astro";
import { getPostsPathsByLanguage } from "@cms/collections/posts/helpers";
import { getI18NPostPaths } from "@helpers/server/i18n";

export async function getStaticPaths() {
  const postPathsByLang = await getPostsPathsByLanguage("pt-br", false);
  return postPathsByLang;
}

const { entries } = Astro.props;
const currentLang = Astro.currentLocale;
const entry = entries[currentLang];
const i18NMap = getI18NPostPaths(entries);
---

<PostTemplate i18nPagePaths={i18NMap} entry={entry} />
